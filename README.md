BindingSitesFromFragments Utilities
===================================

This repository contains scripts to supplement the [BindingSitesFromFragments](https://github.com/jaaamessszzz/BindingSitesFromFragments)
python package for *de novo* small molecule binding site design into proteins. All scripts should be documented, but a 
brief description of relevant directories and files is provided here.

Contents
--------

### Design
Contains scripts used to submit design jobs on the UCSF Wynton cluster.

* `Design-CompRotSets.py`: Perform design with complementary RotamerSets while stepping through various weights and settings
* `Patch-CompRotTables.py`: Parse stdout to get rotamers found for each scaffold
* `Patch-FixMetrics.py`: consolidate design metrics from several sources into a single set of csvs

### Figures
Contains scripts that were used to generate visualizations for the manuscript.
    
* `AnnotatedMotifResiduesFromMatch.py`: Pulls annotated fuzzball residues for match motif residues (as seen in Figure 3)
* `Cluster2PyMOL.py`: Converts a cluster .ag.npz file into PyMOL for visualization (as seen in Figure 2)
* `QuantifyPSImprovement.py`: Quantify the number of design positions where profile similarity improves between design conditions

### LatexSuppMat
Contains scripts to generate PDF summaries of method statistics

* `SupMatLatexTemplates.py`: Main script to generate summary PDFs
    * Fragment statistics
    * Sequence Logos for Binding Site Recovery
    * Design Metric PairPlots
    * Profile Similarity and Sequence Entropy Plots
    * Plots for all measured Design Metrics

### Matching
Contains scripts to perform Matching of composite binding sites into a scaffold library. There are a lot of old and 
redundant scripts here, the main workhorse scripts are the following:

* `match_filtering-pyrosetta.py`: Primary script for submitting Match jobs on the UCSF Wynton cluster. Matches are 
filtered and evaluated on the cluster. Expects `matcher_argument_list.json` (generated by `matcher_argument_listgen-condensed.py`)
in the same directory as this file. There are abolute paths in this script which will need to be changed for other applications.
* `matcher_argument_listgen-condensed.py`: Generates Matcher arguments and writes to `matcher_argument_listgen-condensed.py`. 

### Pymol
Contains scripts to visualize things in PyMOL

* `VisualizeSpecialRot.py`: Map special_rot counts onto design positions in a scaffold protein (as seen in Figures 6 & 7)

### Temp
Despite the name, this directory contains a bunch of useful scripts.

* `constraints_from_existing_complex.py`: Generate Match constraints from an existing protein-ligand complex
* `CountFuzzballBBContacts.py`: Update design_metrics.csv with number of special_rot rotamers incorporated
* `ligand_interface_energy.py`: Rank residues at protein-ligand interface by interaction energy
* `relax_input.py`: Relax an input PDB File
* `RemoveRemarksHeader.py`: Remove prody selection remarks from PDB headers

Outdated Directories
--------------------

### Analysis
Contains scripts for filtering and validating designs for experimental validation.

### Gurobi
Contains scripts to solve for composite binding sites as a linear programming program with Gurobi